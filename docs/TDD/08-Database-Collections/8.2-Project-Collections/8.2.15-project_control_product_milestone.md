# 8.2.15 project control product milestone

Default milestone weight templates per item type (defines how to calculate work order progress)

| Field | Data Type | Description |
|-------|-----------|-------------|
| _id | String | Primary key (ObjectId as string) |
| item_type | String | Item type identifier (sample: "bends", "buckle_arrestor_combi_joint", "linepipe") |
| data | Object | Hierarchical milestone weight configuration |
| data.sow | Object | SOW-level configuration with nested weights |
| data.sow.weight | Number | SOW weight percentage (sample: 20) |
| data.sow.data | Object | SOW sub-milestones with weights |
| data.work_order | Object | Work order-level configuration |
| data.work_order.weight | Number | Work order weight percentage (sample: 80) |
| data.work_order.data | Object | Work order sub-milestones (pipe_receiving, production, document_submission) |
| data.work_order.data.*.weight | Number | Individual milestone weight percentages |
| data.work_order.data.*.data | Object, undefined | Further nested sub-milestones (if applicable) |
| last_status | String | Last review status (sample: "unreviewed") |
| is_reviewed | Boolean | Review completion flag (true/false) |
| is_value_changed | Boolean | Value change flag (true/false) |
| created_at | Date | Creation timestamp (ISODate) |
| created_by | String, null | Creator user email or null |
| updated_at | Date | Last update timestamp (ISODate) |
| updated_by | String, null | Last updater user email or null |

## Notes

- This collection stores **default milestone weight templates** initialized once per project
- One template per item type (linepipe, bends, elbow, flange, tee, reducer, anode, coating, buckle_arrestor_single_piece, buckle_arrestor_combi_joint, clad_pipe)
- Defines hierarchical milestone structures with nested weights:
  - **SOW level** (optional, 20%): For items requiring mother/pup/centre pipe tracking
  - **Work Order level** (80-100%): Main production milestones
    - `pipe_receiving` (25-30%): Receiving base materials
    - `production` (60-90%): Manufacturing processes (can have sub-milestones like steel_making, plate_making, pipe_forming, inspection)
    - `document_submission` (10-12.5%): Documentation completion
- Each milestone can have nested sub-milestones with their own weights that sum to 100%
- These weights are used by the progress calculation engine to determine how much each milestone contributes to overall work order completion
- Can be customized per project through the `is_reviewed` workflow
